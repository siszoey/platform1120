//工具栏
util.fixbar({
    bar1: '<li class="layui-icon" lay-type="bar1" id="utilbar1" style="margin:5px;border-radius:10px;background-color:#303336"><svg t="1639451698623" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1580" width="42" height="43"><path d="M861.696 304.64c-12.288 0-23.552-12.288-23.552-28.672V52.224c0-14.848 10.24-28.672 23.552-28.672 12.288 0 23.552 12.288 23.552 28.672v223.744c0 16.384-11.264 28.672-23.552 28.672z" p-id="1581" fill="#ffffff"></path><path d="M721.92 164.864c0-12.288 12.288-23.552 28.672-23.552h223.744c14.848 0 28.672 10.24 28.672 23.552 0 12.288-12.288 23.552-28.672 23.552h-225.28c-14.848 0-27.136-11.264-27.136-23.552z" p-id="1582" fill="#ffffff"></path><path d="M459.776 675.328c-15.872 0-31.744-3.584-44.544-10.24L47.104 468.48C30.72 459.776 20.992 445.44 20.992 430.08s9.216-28.672 25.088-37.888l360.96-196.096c25.088-13.824 63.488-13.824 89.088 0l367.616 196.096c16.384 8.704 26.112 23.04 26.112 38.4s-9.216 28.672-25.088 37.888l-360.96 196.096c-12.288 7.168-28.16 10.752-44.032 10.752z m-23.552-49.664c12.288 6.656 34.816 6.656 46.592 0l358.912-194.56L476.16 236.032c-12.288-6.656-34.816-6.656-46.592 0l-358.912 194.56 365.568 195.072z" p-id="1583" fill="#ffffff"></path><path d="M459.776 833.536c-15.872 0-31.744-3.584-44.544-10.24L47.104 626.688c-10.752-6.144-14.848-19.456-9.216-30.208 6.144-10.752 19.456-14.848 30.208-9.216L435.712 783.36c12.288 6.656 34.816 6.656 46.592 0l360.96-196.096c10.752-6.144 24.576-2.048 30.208 8.704 6.144 10.752 2.048 24.576-8.704 30.208l-360.96 196.096c-12.288 7.68-28.16 11.264-44.032 11.264z" p-id="1584" fill="#ffffff"></path><path d="M459.776 1000.448c-15.872 0-31.744-3.584-44.544-10.24L47.104 793.6c-10.752-6.144-14.848-19.456-9.216-30.208 6.144-10.752 19.456-14.848 30.208-9.216l367.616 196.096c12.288 6.656 34.816 6.656 46.592 0l360.96-196.096c10.752-6.144 24.576-2.048 30.208 8.704 6.144 10.752 2.048 24.576-8.704 30.208l-360.96 196.096c-12.288 7.68-28.16 11.264-44.032 11.264z" p-id="1585" fill="#ffffff"></path></svg></li>'
    , bar2: '<li class="layui-icon" lay-type="bar2" id="utilbar2" style="margin:5px;border-radius:5px;background-color:#303336"><svg t="1624620648983" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4566" width="50" height="50"><path d="M150.7328 329.6256a25.6 25.6 0 0 1 12.5952-18.944l310.3744-179.2a25.856 25.856 0 0 1 2.9696-1.4336 25.6 25.6 0 0 1 25.4976 0.0512l310.3744 179.2a25.6 25.6 0 0 1 6.8096 5.6832c4.5056 4.608 7.2704 10.9056 7.2704 17.8688V481.792a177.9712 177.9712 0 0 0-51.2-17.92V376.5248L510.6688 529.408a25.6 25.6 0 0 1 1.3312 8.192v263.2704l88.6784-51.2c10.9056 14.1312 23.9104 26.5728 38.5536 36.864l-137.0624 79.104a25.856 25.856 0 0 1-2.9696 1.4848 25.6 25.6 0 0 1-25.856-0.3072L163.328 687.8208a25.6 25.6 0 0 1-12.8-22.4768 25.9072 25.9072 0 0 1-0.1536-2.7648v-327.68c0-0.9728 0.0512-1.9456 0.2048-2.8672 0-0.8192 0.0512-1.5872 0.1536-2.4064z m76.544 3.2768l260.6592 150.528 261.888-151.1936-260.6592-150.528-261.888 151.1936zM460.8 800.4608V537.6c0-3.4304 0.6656-6.656 1.8944-9.6768l-261.12-150.7328v273.6128L460.8 800.4608zM716.8 614.4v-76.8a25.6 25.6 0 1 1 51.2 0V614.4h76.8a25.6 25.6 0 1 1 0 51.2H768v76.8a25.6 25.6 0 1 1-51.2 0V665.6h-76.8a25.6 25.6 0 1 1 0-51.2H716.8z" fill="#ffffff" p-id="4567"></path></svg></li>'
    , bar3: '<li class="layui-icon" lay-type="bar3" id="utilbar3" style="margin:5px;border-radius:5px;background-color:#393D49">' + '<svg t="1639965368469" class="icon" style="position:relative;top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3299" width="42" height="42"><path d="M510.2 955.9h-0.2c-36-0.2-145.7-73.5-210.6-122.7-142-107.7-171.6-165.4-171.4-194.9l2.1-403.2c0.1-19 11-36.1 27.7-43.5l1.3-0.5L497.8 67.7c11-4.6 23.4-4.6 34.4 0.2l338.7 127.2c16.6 7.6 27.3 24.8 27.2 43.8L896 642.1c-0.4 64.1-94.9 144.8-174.1 201.1-78 55.4-178.4 112.7-211.7 112.7zM173.8 228.8c-1.9 1.1-3.2 3.7-3.2 6.5l-2.1 403.2c-0.1 21.9 47.2 80 153.3 160.7 90.7 69 172.3 114.8 188.7 116.1 43.1-1.7 344.4-189.9 344.9-273.5l2.1-403.2c0-2.8-1.3-5.4-3.1-6.5L516 105c-0.8-0.4-1.7-0.4-2.6 0l-1.3 0.5-338.3 123.3z" fill="#ffffff" p-id="3300"></path><path d="M463.3 638.4c-7.5 0-15-2.8-20.8-8.4l-126-121.8c-8-7.8-8.3-20.6-0.5-28.7 7.8-8 20.6-8.3 28.7-0.5l118.7 114.8 218-206.6c8.1-7.7 21-7.4 28.6 0.8 7.7 8.1 7.4 21-0.8 28.6L483.9 630.2c-5.8 5.5-13.2 8.2-20.6 8.2z" fill="#ffffff" p-id="3301"></path></svg></li>'
    , bar4: '<li class="layui-icon" lay-type="bar4" id="utilbar4" style="margin:5px;border-radius:5px;background-color:#393D49;position: relative;"><span id="task_count"></span>' + '<svg t="1639964967826" class="icon" style="position:relative;top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="992" width="38" height="38"><path d="M676.571234 68.218561A282.083751 282.083751 0 0 1 955.07351 352.860508v127.227617a281.913204 281.913204 0 0 1-278.502276 284.4714h-17.05464a91.753965 91.753965 0 0 0-75.552057 39.737312L503.125542 920.950576l-80.838995-116.824286a91.753965 91.753965 0 0 0-75.552056-39.737312A281.913204 281.913204 0 0 1 68.232215 480.088125v-127.227617A282.083751 282.083751 0 0 1 346.734491 68.218561h329.836743m0-68.218561H346.734491A349.790673 349.790673 0 0 0 0.013653 352.860508v127.227617a349.790673 349.790673 0 0 0 346.720838 352.689961 23.535404 23.535404 0 0 1 19.44229 10.403331l117.506471 170.546403a23.535404 23.535404 0 0 0 38.88458 0l117.506472-170.546403a23.535404 23.535404 0 0 1 19.44229-10.403331h17.05464A349.790673 349.790673 0 0 0 1023.292072 480.088125v-127.227617A349.790673 349.790673 0 0 0 676.571234 0z" p-id="993" fill="#ffffff"></path><path d="M324.051819 426.366008m-34.109281 0a34.109281 34.109281 0 1 0 68.218562 0 34.109281 34.109281 0 1 0-68.218562 0Z" p-id="994" fill="#ffffff"></path><path d="M511.652862 426.366008m-34.10928 0a34.109281 34.109281 0 1 0 68.218561 0 34.109281 34.109281 0 1 0-68.218561 0Z" p-id="995" fill="#ffffff"></path><path d="M699.253906 426.366008m-34.109281 0a34.109281 34.109281 0 1 0 68.218561 0 34.109281 34.109281 0 1 0-68.218561 0Z" p-id="996" fill="#ffffff"></path></svg></li>'
    , bar5: '<li class="layui-icon" lay-type="bar5" id="utilbar5" style="margin:5px;border-radius:5px;background-color:#303336">' + '<svg t="1582980285561" class="icon" style="position:relative;top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18054" width="40" height="40"><path d="M939 822.2L182 90.1c-20.4-19.8-49.4-25.1-75.5-14-26.1 11.1-42.4 35.6-42.4 64v732.1c0 38.3 31.2 69.5 69.5 69.5h756.9c28.9 0 53.6-16.6 64.4-43.4 11-26.9 4.9-56-15.9-76.1z m-17.7 62.4c-5.2 12.9-16.7 20.7-30.7 20.7H781V868c0-10.1-8.1-18.2-18.2-18.2s-18.2 8.1-18.2 18.2v37.3H619V868c0-10.1-8.1-18.2-18.2-18.2s-18.2 8.1-18.2 18.2v37.3H456.9V868c0-10.1-8.1-18.2-18.2-18.2s-18.2 8.1-18.2 18.2v37.3H294.9V868c0-10.1-8.1-18.2-18.2-18.2s-18.2 8.1-18.2 18.2v37.3H133.7c-18.2 0-33.1-14.8-33.1-33.1v-84.8h37.3c10.1 0 18.2-8.1 18.2-18.2S148 751 137.9 751h-37.3V625.3h37.3c10.1 0 18.2-8.1 18.2-18.2s-8.1-18.2-18.2-18.2h-37.3V463.2h37.3c10.1 0 18.2-8.1 18.2-18.2s-8.1-18.2-18.2-18.2h-37.3V301.2h37.3c10.1 0 18.2-8.1 18.2-18.2s-8.1-18.2-18.2-18.2h-37.3V140.1c0-13.7 7.5-25.1 20.2-30.4 4.4-1.9 8.9-2.8 13.3-2.8 8.3 0 16.2 3.2 22.6 9.4l756.9 732.1c10.1 9.7 13 23.2 7.7 36.2z m-615.6-458c-8.3-8-20.5-10.3-31.1-5.7-10.6 4.5-17.4 14.8-17.4 26.3v272c0 15.8 12.8 28.6 28.6 28.6H567c11.7 0 22.1-7 26.5-17.9 4.4-10.9 1.8-23.2-6.6-31.3l-281.2-272z m-12.1 284.8V465.6l254.2 245.8H293.6z" p-id="18055" fill="#ffffff"></path></svg></li>'
    , bar6: '<li class="layui-icon" lay-type="bar6" id="utilbar6" style="margin:5px;border-radius:5px;background-color:#393D49">' + '<svg t="1582980424594" class="icon" style="position:relative;top:5px" viewBox="0 0 1026 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18614" width="40" height="40"><path d="M0 980.839447m21.522729 0l983.945511 0q21.522729 0 21.522729 21.522729l0 0.115095q0 21.522729-21.522729 21.522729l-983.945511 0q-21.522729 0-21.522729-21.522729l0-0.115095q0-21.522729 21.522729-21.522729Z" fill="#ffffff" p-id="18615"></path><path d="M550.153181 46.039419a72.739918 72.739918 0 0 1 36.830338 9.783059l56.281361 32.80202a72.970108 72.970108 0 0 1 33.03221 85.170158l-180.123374-103.585327A73.315392 73.315392 0 0 1 550.153181 46.039419m0-46.037923a118.892936 118.892936 0 0 0-103.585327 59.504016l-14.732136 26.356711 262.876541 151.694956 15.192515-26.356711a118.892936 118.892936 0 0 0-43.620932-162.398773L610.002481 15.999674A118.317462 118.317462 0 0 0 550.153181 0.001496zM159.291214 725.098785L276.227538 793.4651c-41.319036 21.177445-80.566365 40.858657-110.030636 54.785129-2.071707-32.226546-5.064172-76.307857-6.905688-123.151444m-49.605862-81.256935s9.667964 262.761446 20.026496 268.746376h1.035854c19.220833 0 241.699096-117.166514 241.699096-117.166514L109.685352 643.84185zM441.848967 161.134227l183.115839 105.196654-263.33692 456.005628-183.115839-105.772128L441.848967 161.134227m-16.918937-63.417239L115.094808 633.022938l263.452014 152.155336 309.259749-535.76633L424.93003 97.716988z" fill="#ffffff" p-id="18616"></path></svg></li>'
    , bar7: '<li class="layui-icon" lay-type="bar7" id="utilbar7" style="margin:5px;border-radius:5px;background-color:#303336">' + '<svg t="1582980601305" class="icon" style="position:relative;top:5px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20696" width="40" height="40"><path d="M536.508695 515.037173 533.082666 506.909052 528.910647 510.318708Z" p-id="20697" fill="#ffffff"></path><path d="M431.339424 549.69553 194.782753 549.69553c-21.871123 0-39.666418 17.796318-39.666418 39.667441l0 236.553601c0 21.87317 17.795295 39.667441 39.666418 39.667441l236.556671 0c21.871123 0 39.665395-17.794271 39.665395-39.667441L471.004819 589.362972C471.004819 567.491849 453.210547 549.69553 431.339424 549.69553zM430.205601 824.780703 195.9176 824.780703 195.9176 590.497818l234.288001 0L430.205601 824.780703z" p-id="20698" fill="#ffffff"></path><path d="M192.211185 508.24242l236.557694 0c21.871123 0 39.665395-17.794271 39.665395-39.664372l0-236.557694c0-21.871123-17.794271-39.664372-39.665395-39.664372L192.211185 192.355983c-21.871123 0-39.664372 17.793248-39.664372 39.664372l0 236.557694C152.547837 490.448148 170.340061 508.24242 192.211185 508.24242zM193.349101 233.155201l234.284931 0 0 234.285954L193.349101 467.441155 193.349101 233.155201z" p-id="20699" fill="#ffffff"></path><path d="M813.097104 547.127032 576.541457 547.127032c-21.862937 0-39.646975 17.794271-39.646975 39.665395l0 236.555647c0 21.871123 17.784038 39.665395 39.646975 39.665395l236.555647 0c21.881356 0 39.683814-17.794271 39.683814-39.665395L852.780919 586.792427C852.780919 564.921303 834.978461 547.127032 813.097104 547.127032zM811.980677 822.213227 577.69677 822.213227 577.69677 587.927273l234.283908 0L811.980677 822.213227z" p-id="20700" fill="#ffffff"></path><path d="M859.52553 314.327942 720.943264 175.745676c-7.087419-7.064906-16.504906-10.956539-26.51591-10.956539-10.008958 0-19.422352 3.891633-26.5374 10.981099L529.377274 314.303382c-7.110955 7.089465-11.026124 16.522302-11.026124 26.561959s3.91517 19.473517 11.000542 26.536376l138.539286 138.559752c7.080256 7.080256 16.501836 10.980076 26.529213 10.980076 10.016121 0 19.436678-3.891633 26.547633-10.980076L859.550089 367.380228C874.147552 352.73774 874.136296 328.939731 859.52553 314.327942zM694.429401 471.41363 563.900555 340.865341 694.429401 210.318076l130.547265 130.547265L694.429401 471.41363z" p-id="20701" fill="#ffffff"></path></svg></li>'
    //, css: { right: 17, top: 401 }
    , css: { right: 17, top: 261 }
    , bgcolor: '#393D49'
    , click: function (type) {
        if (type === 'bar1') {
            //创建项目
            if (modelprojectinfoaddlayerindex == null) {
                ModelProjectInfo(null, "add");
            }
            else {
                layer.confirm('是否打开新的模块?', { icon: 3, title: '提示', zIndex: layer.zIndex, success: function (layero) { layer.setTop(layero); } }, function (index) {
                    CloseAllLayer();
                    ModelProjectInfo(null, "add");
                    layer.close(index);
                });
            }
        } else if (type === 'bar2') {
            //新建任务
            ModelTaskInfo(currentprojectid, "add");
        }
        else if (type === 'bar3') {
            //项目权限
            LoadProjectRight();
            //LoadDrawLayer();//绘图
        }
        else if (type === 'bar4') {

            LoadNewModelTask();//新任务

        }
        else if (type === 'bar5') {
            //测量
            LoadMeasureLayer();
        }
        else if (type === 'bar6') {

            biaozhuMangan();//标注
        }
        
        else if (type === 'bar7') {
            //本地工具
            LoadLocalToolLayer();
        }


    }
});


//提示
$("#utilbar1").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('新建项目', '#utilbar1', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar1").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar2").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('新建任务', '#utilbar2', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar2").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});


$("#utilbar3").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('项目授权', '#utilbar3', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar3").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});
$("#task_count").hide();//隐藏图标
$("#utilbar4").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('待处理任务', '#utilbar4', {
            tips: [4, '#78BA32']
        });
    }
});

$("#utilbar4").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});
$("#utilbar5").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('测量', '#utilbar5', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar5").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});

$("#utilbar6").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('标注', '#utilbar6', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar6").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});



$("#utilbar7").on("mouseenter", function () {
    if (tipslayer == -1) {
        tipslayer = layer.tips('工具', '#utilbar7', {
            tips: [4, '#78BA32']
        });
    }
});
$("#utilbar7").on("mouseleave", function () {
    if (tipslayer != -1) {
        layer.close(tipslayer);
        tipslayer = -1;
    }
});